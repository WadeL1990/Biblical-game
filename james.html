<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çœŸé“ä¹‹ç…‰ï¼šé›…å„çš„æ›¸ä¿¡</title>
    <style>
        :root {
            --bg-color: #f4e4bc;
            --text-color: #3b2f2f;
            --accent-color: #8b0000;
            --btn-bg: #5d4037;
            --btn-hover: #795548;
        }

        body {
            background-color: #2c2c2c;
            font-family: "Songti TC", "Noto Serif TC", serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        .game-container {
            background-color: var(--bg-color);
            width: 100%;
            max-width: 700px;
            padding: 40px;
            border-radius: 5px;
            box-shadow: 0 0 20px rgba(0,0,0,0.5), inset 0 0 60px rgba(0,0,0,0.1);
            border: 1px solid #d3c19a;
            position: relative;
        }

        /* è£é£¾ç·šæ¢ */
        .game-container::before, .game-container::after {
            content: "";
            display: block;
            height: 2px;
            background: var(--text-color);
            margin: 20px 0;
            opacity: 0.3;
        }

        h1 {
            color: var(--accent-color);
            text-align: center;
            margin-bottom: 10px;
            font-size: 2em;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 15px;
        }

        .stats-bar {
            display: flex;
            justify-content: space-around;
            background: rgba(0,0,0,0.05);
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 25px;
            font-weight: bold;
            color: var(--btn-bg);
        }

        .stat-value {
            color: var(--accent-color);
        }

        .story-text {
            font-size: 1.1em;
            line-height: 1.8;
            color: var(--text-color);
            margin-bottom: 30px;
            min-height: 150px;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        button {
            background-color: var(--btn-bg);
            color: #fff;
            border: none;
            padding: 15px 20px;
            font-size: 1em;
            font-family: inherit;
            cursor: pointer;
            border-radius: 4px;
            transition: background 0.3s, transform 0.1s;
            text-align: left;
            line-height: 1.4;
        }

        button:hover {
            background-color: var(--btn-hover);
            transform: translateY(-2px);
        }

        button:active {
            transform: translateY(0);
        }

        button:disabled {
            background-color: #999;
            cursor: not-allowed;
        }

        .citation {
            font-size: 0.85em;
            color: #666;
            font-style: italic;
            display: block;
            margin-top: 5px;
        }

        .fade-in {
            animation: fadeIn 0.8s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .end-screen {
            text-align: center;
        }
        
        .restart-btn {
            text-align: center;
            background-color: var(--accent-color);
            margin-top: 20px;
        }

    </style>
</head>
<body>

<div class="game-container">
    <h1>çœŸé“ä¹‹ç…‰ï¼šé›…å„çš„æ›¸ä¿¡</h1>

    <div class="stats-bar">
        <span>ğŸ•Šï¸ å±¬å¤©æ™ºæ…§: <span id="wisdom-stat" class="stat-value">5</span></span>
        <span>ğŸ”¥ ä¿¡å¿ƒè¡Œç‚º: <span id="faith-stat" class="stat-value">5</span></span>
    </div>

    <div id="game-content" class="fade-in">
        <div id="story-text" class="story-text">
            </div>
        <div id="options-area" class="options">
            </div>
    </div>
</div>

<script>
    // éŠæˆ²ç‹€æ…‹
    let gameState = {
        wisdom: 5,
        faith: 5,
        currentScene: 'start'
    };

    // åŠ‡æƒ…è³‡æ–™åº«
    const scenes = {
        'start': {
            text: `ã€ç¬¬ä¸€å¹•ï¼šè©¦ç…‰çš„é¢¨æš´ã€‘<br><br>æ¸…æ™¨ï¼Œçªå¦‚å…¶ä¾†çš„å†°é›¹æ‘§æ¯€äº†æ‘èŠçš„è‘¡è„åœ’ã€‚é€™æ˜¯å¤§å®¶è³´ä»¥ç‚ºç”Ÿçš„ç¶“æ¿Ÿä¾†æºã€‚<br>ä½ çš„é„°å±…è¥¿é–€æ†¤æ€’åœ°å–Šé“ï¼šã€Œæˆ‘å€‘æ¯å¤©ç¦±å‘Šï¼Œçµæœå¾—åˆ°çš„æ˜¯é£¢è’ï¼ä¸å¦‚å»å€Ÿé«˜åˆ©è²¸ï¼Œæˆ–è€…æ”¾æ£„é€™ä¿¡ä»°ç®—äº†ï¼ã€<br><br>èº«ç‚ºé•·è€ï¼Œä½ å¿ƒè£¡ä¹Ÿæ„Ÿåˆ°éœ‡å‹•ã€‚å›æƒ³èµ·é›…å„æ›¸ä¿¡ä¸­çš„è©±ï¼Œä½ æ±ºå®šï¼š`,
            choices: [
                {
                    text: "å¼•ç”¨æ›¸ä¿¡å®‰æ’«çœ¾äººï¼Œæ•™å°åœ¨è©¦ç…‰ä¸­è¦ä»¥ç‚ºå¤§å–œæ¨‚ï¼Œä¸¦çµ„ç¹”äº’åŠ©ã€‚",
                    effect: { w: 2, f: 1 },
                    next: "chapter2_good",
                    verse: "ï¼ˆé›…å„æ›¸ 1:2ï¼‰"
                },
                {
                    text: "é †æ‡‰æ°‘æ„ï¼Œå¸¶é ­å»æ‰¾å¯Œæœ‰çš„åœ°ä¸»å€Ÿè²¸ï¼Œå…ˆè§£æ±ºè‚šå­å•é¡Œå†èªªã€‚",
                    effect: { w: 0, f: -2 },
                    next: "chapter2_debt",
                    verse: "ï¼ˆç‚ºäº†ç”Ÿå­˜è€Œå¦¥å”ï¼‰"
                },
                {
                    text: "åš´å²æ–¥è²¬è¥¿é–€çš„æŠ±æ€¨ï¼Œèªç‚ºé€™æ˜¯ç¥å°ç½ªçš„æ‡²ç½°ï¼Œè¦æ±‚å¤§å®¶å–®å–®ç¦é£Ÿã€‚",
                    effect: { w: -2, f: 0 },
                    next: "chapter2_conflict",
                    verse: "ï¼ˆåš´å²çš„å¾‹æ³•ä¸»ç¾©ï¼‰"
                }
            ]
        },
        'chapter2_good': {
            text: `ã€ç¬¬äºŒå¹•ï¼šå¤–è²Œå¾…äººã€‘<br><br>é›–ç„¶ç”Ÿæ´»è‰±é›£ï¼Œä½†å› è‘—äº’åŠ©ï¼Œå¤§å®¶çš„å¿ƒç¨å¾—å®‰æ…°ã€‚<br>å®‰æ¯æ—¥èšæœƒæ™‚ï¼Œä¸€ä½æˆ´è‘—é‡‘æˆ’æŒ‡ã€ç©¿è‘—è¯ç¾è¡£æœçš„äººé€²ä¾†äº†ï¼›åŒæ™‚ï¼Œä¸€ä½è¡£è¡«è¥¤è¤¸çš„çª®äººä¹Ÿé€²ä¾†äº†ã€‚<br><br>è² è²¬æ¥å¾…çš„åŸ·äº‹æ­£æº–å‚™æŠŠé‚£ä½å¯Œäººè«‹åˆ°ä¸Šåº§ï¼Œå»å«é‚£çª®äººååœ¨è…³å‡³é‚Šã€‚ä½ çœ‹è¦‹äº†ï¼Œæœƒæ€éº¼åšï¼Ÿ`,
            choices: [
                {
                    text: "ç«‹åˆ»ä»‹å…¥ï¼Œæ•™å°ä¸å¯æŒ‰å¤–è²Œå¾…äººï¼Œé‚€è«‹å…©äººå¹³èµ·å¹³åã€‚",
                    effect: { w: 2, f: 2 },
                    next: "chapter3",
                    verse: "ï¼ˆé›…å„æ›¸ 2:1-4ï¼‰"
                },
                {
                    text: "é»˜è¨±åŸ·äº‹çš„åšæ³•ã€‚ç•¢ç«Ÿç¾åœ¨æ‘å­ç¼ºéŒ¢ï¼Œé‚£ä½å¯Œäººæˆ–è¨±èƒ½æˆç‚ºæˆ‘å€‘çš„è³‡åŠ©è€…ã€‚",
                    effect: { w: -1, f: -2 },
                    next: "chapter3",
                    verse: "ï¼ˆåå¿ƒå¾…äººï¼‰"
                }
            ]
        },
        'chapter2_debt': {
            text: `ã€ç¬¬äºŒå¹•ï¼šå¯Œäººçš„å£“è¿«ã€‘<br><br>ä½ å€‘å€Ÿäº†éŒ¢ï¼Œæš«æ™‚åº¦éé›£é—œï¼Œä½†é«˜åˆ©è²¸çš„å£“åŠ›è®“å¤§å®¶å–˜ä¸éæ°£ã€‚<br>å‚µä¸»ï¼ˆä¸€ä½å¯Œæœ‰çš„åœ°ä¸»ï¼‰ä»Šå¤©ä¾†åˆ°èšæœƒä¸­ï¼Œç©¿è‘—è¯éº—ã€‚ä»–è¦æ±‚æ•™æœƒåœ¨æ•™å°ä¸Šå¤šé…åˆä»–ï¼Œç”šè‡³ç¾è¾±ä¸€ä½æ¬ å‚µçš„çª®å¼Ÿå…„ã€‚<br><br>é¢å°é€™ä½ã€Œæ©äººã€å…¼ã€Œå£“è¿«è€…ã€ï¼Œä½ æ€éº¼åšï¼Ÿ`,
            choices: [
                {
                    text: "ç‚ºäº†ä¸æƒ¹æ€’å‚µä¸»ï¼Œä½ é¸æ“‡ä¿æŒæ²ˆé»˜ï¼Œç§ä¸‹å†å®‰æ…°çª®å¼Ÿå…„ã€‚",
                    effect: { w: -1, f: -2 },
                    next: "chapter3_weak",
                    verse: "ï¼ˆä¿¡å¿ƒæ²’æœ‰è¡Œç‚ºæ˜¯æ­»çš„ï¼‰"
                },
                {
                    text: "å‹‡æ•¢ç«™å‡ºä¾†ï¼ŒæŒ‡å‡ºå¯Œäººç¾è¾±è²§çª®äººæ˜¯ä¸å°çš„ï¼Œç¥æ€é¸äº†ä¸–ä¸Šçš„è²§çª®äººã€‚",
                    effect: { w: 1, f: 3 },
                    next: "chapter3",
                    verse: "ï¼ˆé›…å„æ›¸ 2:5-6ï¼‰"
                }
            ]
        },
        'chapter2_conflict': {
            text: `ã€ç¬¬äºŒå¹•ï¼šè½é“èˆ‡è¡Œé“ã€‘<br><br>å› ç‚ºä½ åš´å²çš„æ–¥è²¬ï¼Œæœƒçœ¾æ°£æ°›ä½è¿·ï¼Œç”šè‡³æœ‰äººé›¢é–‹ã€‚ç•™ä¸‹ä¾†çš„äººé–‹å§‹è®Šå¾—åªæ³¨é‡å„€å¼ï¼Œå»ä¸é¡˜å¹«åŠ©å—ç½çš„é„°èˆã€‚<br>æœ‰äººèªªï¼šã€Œæˆ‘æœ‰ä¿¡å¿ƒå°±å¤ äº†ï¼Œè¡Œç‚ºä¸é‡è¦ã€‚ã€<br><br>ä½ éœ€è¦å°æ­£é€™å€‹è§€å¿µï¼š`,
            choices: [
                {
                    text: "æ•™å°ä»–å€‘ï¼šèº«é«”æ²’æœ‰éˆé­‚æ˜¯æ­»çš„ï¼Œä¿¡å¿ƒæ²’æœ‰è¡Œç‚ºä¹Ÿæ˜¯æ­»çš„ã€‚",
                    effect: { w: 1, f: 2 },
                    next: "chapter3",
                    verse: "ï¼ˆé›…å„æ›¸ 2:26ï¼‰"
                },
                {
                    text: "ç¹¼çºŒå¼·èª¿æ•™ç¾©çš„ç´”æ­£ï¼Œèªç‚ºåªè¦ç¥å­¸æ­£ç¢ºï¼Œè¡Œç‚ºè‡ªç„¶æœƒå¥½ã€‚",
                    effect: { w: 1, f: -1 },
                    next: "chapter3_weak",
                    verse: "ï¼ˆå–®å–®è½é“ï¼‰"
                }
            ]
        },
        'chapter3': {
            text: `ã€ç¬¬ä¸‰å¹•ï¼šèˆŒé ­çš„ç«ã€‘<br><br>æ•™æœƒé€æ¼¸èµ°ä¸Šè»Œé“ï¼Œä½†éš¨è‘—æ„è¦‹å¢å¤šï¼Œçˆ­è«–ä¹Ÿé–‹å§‹äº†ã€‚<br>å…©ä½æ•™å¸«ç‚ºäº†èª°æ›´æœ‰æ™ºæ…§è€Œçˆ­åµï¼Œè¨€èªåˆ»è–„ï¼Œç”šè‡³å½¼æ­¤å’’è©›ã€‚ç«è—¥å‘³ç€°æ¼«æ•´å€‹æœƒå ‚ã€‚<br><br>é›…å„æ›¸èªªèˆŒé ­æ˜¯ã€Œç½ªæƒ¡çš„ä¸–ç•Œã€ï¼Œä½ è©²å¦‚ä½•å¹³æ¯ï¼Ÿ`,
            choices: [
                {
                    text: "ç”¨æ›´çŠ€åˆ©çš„è¨€èªå£“å€’ä»–å€‘ï¼Œè­‰æ˜ä½ çš„æ¬Šå¨æ‰æ˜¯æœ€é«˜çš„ã€‚",
                    effect: { w: -3, f: -1 },
                    next: "ending",
                    verse: "ï¼ˆå±¬åœ°çš„æ™ºæ…§ï¼‰"
                },
                {
                    text: "æº«æŸ”åœ°å‹¸å‹‰ï¼ŒæŒ‡å‡ºå”¯ç¨å¾ä¸Šé ­ä¾†çš„æ™ºæ…§æ˜¯æ¸…æ½”ã€å’Œå¹³ã€æº«è‰¯æŸ”é †çš„ã€‚",
                    effect: { w: 3, f: 1 },
                    next: "ending",
                    verse: "ï¼ˆé›…å„æ›¸ 3:17ï¼‰"
                }
            ]
        },
        'chapter3_weak': {
            text: `ã€ç¬¬ä¸‰å¹•ï¼šè«–æ–·èˆ‡é©•å‚²ã€‘<br><br>ç¾¤é«”å…§éƒ¨å……æ»¿äº†ç´›çˆ­èˆ‡å«‰å¦’ã€‚å¤§å®¶é–‹å§‹äº’ç›¸è«–æ–·ï¼Œç”šè‡³æœ‰äººåœ¨åˆ¶å®šè¨ˆç•«è¦æŠŠè²¨ç‰©é‹åˆ°é æ–¹åŸå¸‚å»å¾—åˆ©ï¼Œå®Œå…¨æ²’æœ‰æŠŠç¥æ”¾åœ¨çœ¼è£¡ã€‚<br><br>ä½ çœ‹è‘—é€™ä¸€åˆ‡ï¼Œæœ€å¾Œæ±ºå®šèªªä»€éº¼ï¼Ÿ`,
            choices: [
                {
                    text: "è­¦å‘Šä»–å€‘ï¼šã€Œä½ å€‘åªç•¶èªªï¼šä¸»è‹¥é¡˜æ„ï¼Œæˆ‘å€‘å°±å¯ä»¥æ´»è‘—ã€‚ã€",
                    effect: { w: 2, f: 1 },
                    next: "ending",
                    verse: "ï¼ˆé›…å„æ›¸ 4:15ï¼‰"
                },
                {
                    text: "éš¨ä»–å€‘å»å§ï¼Œåæ­£æ¯å€‹äººéƒ½è¦ç‚ºè‡ªå·±è² è²¬ã€‚",
                    effect: { w: -2, f: -2 },
                    next: "ending",
                    verse: "ï¼ˆçŸ¥é“è¡Œå–„å»ä¸å»è¡Œï¼‰"
                }
            ]
        },
        'ending': {
            text: "", // å°‡ç”±ç¨‹å¼å‹•æ…‹ç”Ÿæˆ
            choices: []
        }
    };

    // æ ¸å¿ƒåŠŸèƒ½
    function updateStats(w, f) {
        gameState.wisdom += w;
        gameState.faith += f;
        // ç¢ºä¿æ•¸å€¼ä¸ç‚ºè² 
        // gameState.wisdom = Math.max(0, gameState.wisdom);
        // gameState.faith = Math.max(0, gameState.faith);
        
        document.getElementById('wisdom-stat').innerText = gameState.wisdom;
        document.getElementById('faith-stat').innerText = gameState.faith;
        
        // ç°¡å–®çš„å‹•ç•«æ•ˆæœ
        const bars = document.querySelector('.stats-bar');
        bars.style.backgroundColor = "rgba(139, 0, 0, 0.1)";
        setTimeout(() => bars.style.backgroundColor = "rgba(0,0,0,0.05)", 300);
    }

    function renderScene(sceneKey) {
        const contentDiv = document.getElementById('game-content');
        
        // æ·¡å‡ºæ•ˆæœ
        contentDiv.style.opacity = 0;
        
        setTimeout(() => {
            gameState.currentScene = sceneKey;
            
            if (sceneKey === 'ending') {
                showEnding();
            } else {
                const scene = scenes[sceneKey];
                document.getElementById('story-text').innerHTML = scene.text;
                
                const optionsArea = document.getElementById('options-area');
                optionsArea.innerHTML = ''; // æ¸…ç©ºèˆŠé¸é …

                scene.choices.forEach(choice => {
                    const btn = document.createElement('button');
                    btn.innerHTML = `${choice.text} <span class="citation">${choice.verse}</span>`;
                    btn.onclick = () => makeChoice(choice);
                    optionsArea.appendChild(btn);
                });
            }
            
            // æ·¡å…¥æ•ˆæœ
            contentDiv.style.opacity = 1;
        }, 300);
    }

    function makeChoice(choice) {
        updateStats(choice.effect.w, choice.effect.f);
        renderScene(choice.next);
    }

    function showEnding() {
        let title = "";
        let desc = "";
        let verse = "";

        if (gameState.wisdom >= 8 && gameState.faith >= 8) {
            title = "çµå±€ï¼šè½é“ä¸”è¡Œé“çš„äºº";
            desc = "ä½ ä¸åƒ…æœ‰å±¬å¤©çš„æ™ºæ…§ï¼Œæ›´æœ‰çœŸå¯¦çš„è¡Œç‚ºã€‚ä½ çš„æ•™æœƒåœ¨è©¦ç…‰ä¸­è¢«ç…‰æ·¨ï¼Œæˆç‚ºç¤¾å€çš„å…‰ã€‚ä½ çœŸæ­£æ´»å‡ºäº†ã€Œä¿¡å¿ƒèˆ‡è¡Œç‚ºä¸¦è¡Œã€çš„çœŸç†ã€‚";
            verse = "ã€Œèº«é«”æ²’æœ‰éˆé­‚æ˜¯æ­»çš„ï¼Œä¿¡å¿ƒæ²’æœ‰è¡Œç‚ºä¹Ÿæ˜¯æ­»çš„ã€‚ã€(é›… 2:26)";
        } else if (gameState.faith < 4) {
            title = "çµå±€ï¼šæ­»çš„ä¿¡å¿ƒ";
            desc = "ä½ æˆ–è¨±æ“æœ‰çŸ¥è­˜ï¼Œä½†åœ¨é—œéµæ™‚åˆ»é¸æ“‡äº†å¦¥å”æˆ–ææ‡¼ã€‚æ•™æœƒé›–ç„¶å­˜æ´»ä¸‹ä¾†ï¼Œå»å¤±å»äº†å±¬éˆçš„åŠ›é‡ï¼Œè®Šå¾—åƒä¸–ä¿—çš„åœ˜é«”ä¸€æ¨£ã€‚";
            verse = "ã€Œé€™æ¨£ï¼Œä¿¡å¿ƒè‹¥æ²’æœ‰è¡Œç‚ºå°±æ˜¯æ­»çš„ã€‚ã€(é›… 2:17)";
        } else if (gameState.wisdom < 4) {
            title = "çµå±€ï¼šå±¬åœ°çš„ç´›çˆ­";
            desc = "ä½ é›–ç„¶ç†±å¿ƒï¼Œä½†ç¼ºä¹å¾ä¸Šé ­ä¾†çš„æ™ºæ…§ã€‚ä½ çš„åš´å²æˆ–è¡€æ°£å°è‡´äº†æ•™æœƒçš„åˆ†è£‚èˆ‡æ··äº‚ã€‚";
            verse = "ã€Œä½ å€‘ä¸­é–“çš„çˆ­æˆ°é¬¥æ¯†æ˜¯å¾å“ªè£¡ä¾†çš„å‘¢ï¼Ÿä¸æ˜¯å¾ä½ å€‘ç™¾é«”ä¸­æˆ°é¬¥ä¹‹ç§æ…¾ä¾†çš„å—ï¼Ÿã€(é›… 4:1)";
        } else {
            title = "çµå±€ï¼šåœ¨è»Ÿå¼±ä¸­æˆé•·";
            desc = "ä½ åœ¨è©¦ç…‰ä¸­è·Œè·Œæ’æ’ï¼Œæœ‰æ™‚å¾—å‹ï¼Œæœ‰æ™‚è»Ÿå¼±ã€‚é€™æ­£æ˜¯æˆè–çš„éç¨‹ã€‚ç¥ä»åœ¨å‹•å·¥ï¼Œè¦è®“ä½ å¾—ä»¥å®Œå…¨ï¼Œåƒç¥‚ä¸€æ¨£ã€‚";
            verse = "ã€Œå¿å—è©¦æ¢çš„äººæ˜¯æœ‰ç¦çš„ï¼Œå› ç‚ºä»–ç¶“éè©¦é©—ä»¥å¾Œï¼Œå¿…å¾—ç”Ÿå‘½çš„å† å†•ã€‚ã€(é›… 1:12)";
        }

        const finalHtml = `
            <div class="end-screen">
                <h2 style="color: var(--accent-color);">${title}</h2>
                <p>${desc}</p>
                <hr style="border: 0; border-top: 1px solid #ccc; margin: 20px 0;">
                <p style="font-style: italic; font-weight: bold;">${verse}</p>
                <p>æœ€çµ‚å±¬æ€§ - æ™ºæ…§: ${gameState.wisdom} | ä¿¡å¿ƒ: ${gameState.faith}</p>
                <button class="restart-btn" onclick="location.reload()">é‡æ–°é–‹å§‹æ—…ç¨‹</button>
            </div>
        `;
        
        document.getElementById('story-text').innerHTML = finalHtml;
        document.getElementById('options-area').innerHTML = '';
    }

    // å•Ÿå‹•éŠæˆ²
    renderScene('start');

</script>

</body>
</html>
